{"ast":null,"code":"const morx = require('morx');\n\nconst q = require('q');\n\nvar spec = morx.spec().build('id', 'required:true, eg:a1b7864f-c56d-4453-bf55-a08db4acb5fe').build('from', 'required:true, eg:2019-01-01').build('to', 'required:true, eg:2019-01-01').build('index', 'required:true, eg:1').build('size', 'required:true, eg:10').end();\n\nfunction service(data, _rave) {\n  var d = q.defer();\n  q.fcall(() => {\n    var validated = morx.validate(data, spec, _rave.MORX_DEFAULT);\n    var params = validated.params;\n    return params;\n  }).then(params => {\n    params.method = \"GET\";\n    var uri = `v3/virtual-cards/${params.id}/transactions?from=${params.from}&to=${params.to}&index=${params.index}&size=${params.size}`;\n    return _rave.request(uri, params);\n  }).then(response => {\n    // console.log(response.body);\n    d.resolve(response.body);\n  }).catch(err => {\n    d.reject(err);\n  });\n  return d.promise;\n}\n\nservice.morxspc = spec;\nmodule.exports = service;","map":{"version":3,"sources":["C:/Users/Obed/PycharmProjects/akmarv_project/node_modules/flutterwave-node-v3/services/virtual-cards/rave.transactions.js"],"names":["morx","require","q","spec","build","end","service","data","_rave","d","defer","fcall","validated","validate","MORX_DEFAULT","params","then","method","uri","id","from","to","index","size","request","response","resolve","body","catch","err","reject","promise","morxspc","module","exports"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAMC,CAAC,GAAGD,OAAO,CAAC,GAAD,CAAjB;;AAGA,IAAIE,IAAI,GAAGH,IAAI,CAACG,IAAL,GACTC,KADS,CACH,IADG,EACG,wDADH,EAETA,KAFS,CAEH,MAFG,EAEK,8BAFL,EAGTA,KAHS,CAGH,IAHG,EAGG,8BAHH,EAITA,KAJS,CAIH,OAJG,EAIM,qBAJN,EAKTA,KALS,CAKH,MALG,EAKK,sBALL,EAMTC,GANS,EAAX;;AASA,SAASC,OAAT,CAAiBC,IAAjB,EAAuBC,KAAvB,EAA8B;AAE7B,MAAIC,CAAC,GAAGP,CAAC,CAACQ,KAAF,EAAR;AAEAR,EAAAA,CAAC,CAACS,KAAF,CAAQ,MAAM;AAEZ,QAAIC,SAAS,GAAGZ,IAAI,CAACa,QAAL,CAAcN,IAAd,EAAoBJ,IAApB,EAA0BK,KAAK,CAACM,YAAhC,CAAhB;AACA,QAAIC,MAAM,GAAGH,SAAS,CAACG,MAAvB;AAEA,WAAOA,MAAP;AAGA,GARF,EASEC,IATF,CASOD,MAAM,IAAI;AACfA,IAAAA,MAAM,CAACE,MAAP,GAAgB,KAAhB;AACA,QAAIC,GAAG,GAAI,oBAAmBH,MAAM,CAACI,EAAG,sBAAqBJ,MAAM,CAACK,IAAK,OAAML,MAAM,CAACM,EAAG,UAASN,MAAM,CAACO,KAAM,SAAQP,MAAM,CAACQ,IAAK,EAAnI;AAEA,WAAOf,KAAK,CAACgB,OAAN,CAAcN,GAAd,EAAmBH,MAAnB,CAAP;AAEA,GAfF,EAgBEC,IAhBF,CAgBOS,QAAQ,IAAI;AAEjB;AACAhB,IAAAA,CAAC,CAACiB,OAAF,CAAUD,QAAQ,CAACE,IAAnB;AAEA,GArBF,EAsBEC,KAtBF,CAsBQC,GAAG,IAAI;AAEbpB,IAAAA,CAAC,CAACqB,MAAF,CAASD,GAAT;AAEA,GA1BF;AA4BA,SAAOpB,CAAC,CAACsB,OAAT;AAEA;;AACDzB,OAAO,CAAC0B,OAAR,GAAkB7B,IAAlB;AACA8B,MAAM,CAACC,OAAP,GAAiB5B,OAAjB","sourcesContent":["const morx = require('morx');\nconst q = require('q');\n\n\nvar spec = morx.spec()\n\t.build('id', 'required:true, eg:a1b7864f-c56d-4453-bf55-a08db4acb5fe')\n\t.build('from', 'required:true, eg:2019-01-01')\n\t.build('to', 'required:true, eg:2019-01-01')\n\t.build('index', 'required:true, eg:1')\n\t.build('size', 'required:true, eg:10')\n\t.end();\n\n\nfunction service(data, _rave) {\n\n\tvar d = q.defer();\n\n\tq.fcall(() => {\n\n\t\t\tvar validated = morx.validate(data, spec, _rave.MORX_DEFAULT);\n\t\t\tvar params = validated.params;\n\n\t\t\treturn params\n\n\n\t\t})\n\t\t.then(params => {\n\t\t\tparams.method = \"GET\";\n\t\t\tvar uri = `v3/virtual-cards/${params.id}/transactions?from=${params.from}&to=${params.to}&index=${params.index}&size=${params.size}`\n\n\t\t\treturn _rave.request(uri, params)\n\n\t\t})\n\t\t.then(response => {\n\n\t\t\t// console.log(response.body);\n\t\t\td.resolve(response.body);\n\n\t\t})\n\t\t.catch(err => {\n\n\t\t\td.reject(err);\n\n\t\t})\n\n\treturn d.promise;\n\n}\nservice.morxspc = spec;\nmodule.exports = service;"]},"metadata":{},"sourceType":"script"}