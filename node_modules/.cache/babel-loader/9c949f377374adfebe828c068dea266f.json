{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Obed\\\\PycharmProjects\\\\akmarv_project\\\\src\\\\components\\\\Flutter.js\";\nimport React, { Component } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Flutter = () => {\n  const Flutterwave = require('flutterwave-node-v3');\n\n  const open = require('open');\n\n  const flw = new Flutterwave(\"FLWPUBK_TEST-859a5aa123358738a78fc5cd31038b72-X\", \"FLWSECK_TEST-c479f7378c0fd7b0d15c98a032d84656-X\");\n  const payload = {\n    \"card_number\": \"5531886652142950\",\n    \"cvv\": \"564\",\n    \"expiry_month\": \"09\",\n    \"expiry_year\": \"21\",\n    \"currency\": \"NGN\",\n    \"amount\": \"100\",\n    \"redirect_url\": \"https://www.akmarv.com/confirm-payment/\",\n    \"fullname\": \"Olufemi Obafunmiso\",\n    \"email\": \"olufemi@flw.com\",\n    \"phone_number\": \"0902620185\",\n    \"enckey\": \"FLWSECK_TESTa6db3c889ee6\",\n    \"tx_ref\": \"MC-32444ee--4eerye4euee3rerds4423e43e\"\n  };\n\n  const chargeCard = async () => {\n    try {\n      const response = await flw.Charge.card(payload);\n      console.log(response);\n\n      if (response.meta.authorization.mode === 'pin') {\n        let payload2 = payload;\n        payload2.authorization = {\n          \"mode\": \"pin\",\n          \"fields\": [\"pin\"],\n          \"pin\": 3310\n        };\n        const reCallCharge = await flw.Charge.card(payload2);\n        const callValidate = await flw.Charge.validate({\n          \"otp\": \"12345\",\n          \"flw_ref\": reCallCharge.data.flw_ref\n        });\n        console.log(callValidate);\n      }\n\n      if (response.meta.authorization.mode === 'redirect') {\n        var url = response.meta.authorization.redirect;\n        open(url);\n      }\n\n      console.log(response);\n    } catch (error) {\n      console.log(error);\n    }\n  }; // chargeCard();\n\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"h1\", {\n      onClick: chargeCard,\n      children: \"ho\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 17\n    }, this)\n  }, void 0, false);\n};\n\n_c = Flutter;\nexport default Flutter;\n\nvar _c;\n\n$RefreshReg$(_c, \"Flutter\");","map":{"version":3,"sources":["C:/Users/Obed/PycharmProjects/akmarv_project/src/components/Flutter.js"],"names":["React","Component","Flutter","Flutterwave","require","open","flw","payload","chargeCard","response","Charge","card","console","log","meta","authorization","mode","payload2","reCallCharge","callValidate","validate","data","flw_ref","url","redirect","error"],"mappings":";AAAA,OAAOA,KAAP,IAAeC,SAAf,QAA+B,OAA/B;;;;AAEA,MAAMC,OAAO,GAAE,MAAK;AAChB,QAAMC,WAAW,GAAGC,OAAO,CAAC,qBAAD,CAA3B;;AACA,QAAMC,IAAI,GAAGD,OAAO,CAAC,MAAD,CAApB;;AAEA,QAAME,GAAG,GAAG,IAAIH,WAAJ,CAAgB,iDAAhB,EAAmE,iDAAnE,CAAZ;AACA,QAAMI,OAAO,GAAG;AAChB,mBAAe,kBADC;AAEhB,WAAO,KAFS;AAGhB,oBAAgB,IAHA;AAIhB,mBAAe,IAJC;AAKhB,gBAAY,KALI;AAMhB,cAAU,KANM;AAOhB,oBAAgB,yCAPA;AAQhB,gBAAY,oBARI;AAShB,aAAS,iBATO;AAUhB,oBAAgB,YAVA;AAWhB,cAAU,0BAXM;AAYhB,cAAU;AAZM,GAAhB;;AAeJ,QAAMC,UAAU,GAAG,YAAY;AAC3B,QAAI;AACA,YAAMC,QAAQ,GAAG,MAAMH,GAAG,CAACI,MAAJ,CAAWC,IAAX,CAAgBJ,OAAhB,CAAvB;AACAK,MAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;;AACA,UAAIA,QAAQ,CAACK,IAAT,CAAcC,aAAd,CAA4BC,IAA5B,KAAqC,KAAzC,EAAgD;AAC5C,YAAIC,QAAQ,GAAGV,OAAf;AACAU,QAAAA,QAAQ,CAACF,aAAT,GAAyB;AACrB,kBAAQ,KADa;AAErB,oBAAU,CACN,KADM,CAFW;AAKrB,iBAAO;AALc,SAAzB;AAOA,cAAMG,YAAY,GAAG,MAAMZ,GAAG,CAACI,MAAJ,CAAWC,IAAX,CAAgBM,QAAhB,CAA3B;AAEA,cAAME,YAAY,GAAG,MAAMb,GAAG,CAACI,MAAJ,CAAWU,QAAX,CAAoB;AAC3C,iBAAO,OADoC;AAE3C,qBAAWF,YAAY,CAACG,IAAb,CAAkBC;AAFc,SAApB,CAA3B;AAIAV,QAAAA,OAAO,CAACC,GAAR,CAAYM,YAAZ;AAEH;;AACD,UAAIV,QAAQ,CAACK,IAAT,CAAcC,aAAd,CAA4BC,IAA5B,KAAqC,UAAzC,EAAqD;AAEjD,YAAIO,GAAG,GAAGd,QAAQ,CAACK,IAAT,CAAcC,aAAd,CAA4BS,QAAtC;AACAnB,QAAAA,IAAI,CAACkB,GAAD,CAAJ;AACH;;AAEDX,MAAAA,OAAO,CAACC,GAAR,CAAYJ,QAAZ;AAGH,KA9BD,CA8BE,OAAOgB,KAAP,EAAc;AACZb,MAAAA,OAAO,CAACC,GAAR,CAAYY,KAAZ;AACH;AACJ,GAlCD,CApBoB,CAwDpB;;;AACQ,sBACI;AAAA,2BACI;AAAI,MAAA,OAAO,EAAEjB,UAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AADJ,mBADJ;AAKP,CA9DD;;KAAMN,O;AAgEN,eAAeA,OAAf","sourcesContent":["import React, {Component} from 'react';\r\n\r\nconst Flutter =()=> {\r\n    const Flutterwave = require('flutterwave-node-v3');\r\n    const open = require('open');\r\n\r\n    const flw = new Flutterwave(\"FLWPUBK_TEST-859a5aa123358738a78fc5cd31038b72-X\", \"FLWSECK_TEST-c479f7378c0fd7b0d15c98a032d84656-X\");\r\n    const payload = {\r\n    \"card_number\": \"5531886652142950\",\r\n    \"cvv\": \"564\",\r\n    \"expiry_month\": \"09\",\r\n    \"expiry_year\": \"21\",\r\n    \"currency\": \"NGN\",\r\n    \"amount\": \"100\",\r\n    \"redirect_url\": \"https://www.akmarv.com/confirm-payment/\",\r\n    \"fullname\": \"Olufemi Obafunmiso\",\r\n    \"email\": \"olufemi@flw.com\",\r\n    \"phone_number\": \"0902620185\",\r\n    \"enckey\": \"FLWSECK_TESTa6db3c889ee6\",\r\n    \"tx_ref\": \"MC-32444ee--4eerye4euee3rerds4423e43e\"\r\n\r\n}\r\nconst chargeCard = async () => {\r\n    try {\r\n        const response = await flw.Charge.card(payload)\r\n        console.log(response)\r\n        if (response.meta.authorization.mode === 'pin') {\r\n            let payload2 = payload\r\n            payload2.authorization = {\r\n                \"mode\": \"pin\",\r\n                \"fields\": [\r\n                    \"pin\"\r\n                ],\r\n                \"pin\": 3310\r\n            }\r\n            const reCallCharge = await flw.Charge.card(payload2)\r\n\r\n            const callValidate = await flw.Charge.validate({\r\n                \"otp\": \"12345\",\r\n                \"flw_ref\": reCallCharge.data.flw_ref\r\n            })\r\n            console.log(callValidate)\r\n\r\n        }\r\n        if (response.meta.authorization.mode === 'redirect') {\r\n\r\n            var url = response.meta.authorization.redirect\r\n            open(url)\r\n        }\r\n\r\n        console.log(response)\r\n\r\n\r\n    } catch (error) {\r\n        console.log(error)\r\n    }\r\n}\r\n\r\n// chargeCard();\r\n        return (\r\n            <>\r\n                <h1 onClick={chargeCard}>ho</h1>\r\n            </>\r\n        );\r\n}\r\n\r\nexport default Flutter;"]},"metadata":{},"sourceType":"module"}