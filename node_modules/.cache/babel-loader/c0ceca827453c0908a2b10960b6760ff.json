{"ast":null,"code":"import _slicedToArray from\"C:/Users/Obed/PycharmProjects/akmarv_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{useCart}from\"react-use-cart\";import{Button,Col,Container,Form,Row,Table,Toast}from\"react-bootstrap\";import Navigation from\"./Navigation\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var Cart=function Cart(){var _useCart=useCart(),items=_useCart.items,totalUniqueItems=_useCart.totalUniqueItems,cartTotal=_useCart.cartTotal,removeItem=_useCart.removeItem,emptyCart=_useCart.emptyCart;var _useState=useState(''),_useState2=_slicedToArray(_useState,2),email=_useState2[0],setEmail=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),firstName=_useState4[0],setFirstName=_useState4[1];var _useState5=useState(''),_useState6=_slicedToArray(_useState5,2),lastName=_useState6[0],setLastName=_useState6[1];var _useState7=useState(false),_useState8=_slicedToArray(_useState7,2),show=_useState8[0],setShow=_useState8[1];var onSubmit=function onSubmit(e){setShow(true);e.preventDefault();var user={email:email,firstName:firstName,lastName:lastName};axios.defaults.xsrfHeaderName='X-CSRFTOKEN';axios.defaults.xsrfCookieName='csrftoken';axios.defaults.withCredentials=true;axios.post('/api/client/manage-payment/',{user:user,cartTotal:cartTotal,items:items}).then(function(response){setTimeout(function(){// console.log(response.data.data)\nwindow.location.replace(response.data.data);emptyCart();},5000);});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navigation,{}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Col,{xs:6,children:/*#__PURE__*/_jsx(Toast,{onClose:function onClose(){return setShow(false);},show:show,delay:1000,style:{position:'absolute',top:0,right:0},children:/*#__PURE__*/_jsx(Toast.Header,{children:/*#__PURE__*/_jsx(\"strong\",{className:\"mr-auto\",children:\"Processing Order\"})})})})}),/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"mt-5\",children:/*#__PURE__*/_jsx(\"h2\",{className:'text-center font-weight-bold',children:\"Confirm Your Order\"})}),/*#__PURE__*/_jsxs(Table,{className:'text-center',hover:true,children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Cart Item\"}),/*#__PURE__*/_jsx(\"th\",{children:\"License Type\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Options\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{className:'font-weight-bold',children:items.map(function(item){return/*#__PURE__*/_jsxs(\"tr\",{className:\"h5\",children:[/*#__PURE__*/_jsx(\"td\",{children:item.name}),/*#__PURE__*/_jsx(\"td\",{children:item.license}),/*#__PURE__*/_jsx(\"td\",{children:item.price}),/*#__PURE__*/_jsx(\"td\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"button-1\",onClick:function onClick(){return removeItem(item.id);},children:\"Remove Item \\xD7\"})})]},item.id);})})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"checkout-div mt-5\",children:[/*#__PURE__*/_jsx(\"h2\",{className:'text-center font-weight-bold',children:\"Fill this out to complete your order\"}),/*#__PURE__*/_jsx(\"div\",{className:\"contact-form m-5\",children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(Form.Row,{children:[/*#__PURE__*/_jsxs(Form.Group,{as:Col,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"First Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",id:\"first_name\",className:'checkout-form-input',onChange:function onChange(e){return setFirstName(e.target.value);}})]}),/*#__PURE__*/_jsxs(Form.Group,{as:Col,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Last Name\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",className:'checkout-form-input',onChange:function onChange(e){return setLastName(e.target.value);}})]})]}),/*#__PURE__*/_jsx(Form.Row,{children:/*#__PURE__*/_jsxs(Form.Group,{as:Col,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Email\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"email\",className:'checkout-form-input',onChange:function onChange(e){return setEmail(e.target.value);}})]})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Button,{className:\"button-2 mx-auto mb-5\",type:\"submit\",children:\"Proceed To Checkout\"})})]})})})]})]});};export default Cart;","map":{"version":3,"sources":["C:/Users/Obed/PycharmProjects/akmarv_project/src/components/Cart.js"],"names":["React","useState","useCart","Button","Col","Container","Form","Row","Table","Toast","Navigation","axios","Cart","items","totalUniqueItems","cartTotal","removeItem","emptyCart","email","setEmail","firstName","setFirstName","lastName","setLastName","show","setShow","onSubmit","e","preventDefault","user","defaults","xsrfHeaderName","xsrfCookieName","withCredentials","post","then","response","setTimeout","window","location","replace","data","position","top","right","map","item","name","license","price","id","target","value"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport { useCart} from \"react-use-cart\";\r\nimport {Button, Col, Container, Form, Row, Table,Toast} from \"react-bootstrap\";\r\nimport Navigation from \"./Navigation\";\r\nimport axios from \"axios\";\r\n\r\nconst Cart = () => {\r\n    const { items,totalUniqueItems,cartTotal,removeItem ,emptyCart} = useCart();\r\n    const [email, setEmail] = useState('');\r\n    const [firstName, setFirstName] = useState('');\r\n    const [lastName, setLastName] = useState('');\r\n\r\n    const [show, setShow] = useState(false);\r\n\r\n\r\n\r\n    const onSubmit = e => {\r\n        setShow(true)\r\n        e.preventDefault();\r\n\r\n        const user = {\r\n            email: email,\r\n            firstName: firstName,\r\n            lastName: lastName\r\n        };\r\n\r\n        axios.defaults.xsrfHeaderName = 'X-CSRFTOKEN';\r\n        axios.defaults.xsrfCookieName = 'csrftoken';\r\n        axios.defaults.withCredentials = true;\r\n\r\n        axios.post('/api/client/manage-payment/', {user,cartTotal,items})\r\n            .then(function (response) {\r\n                setTimeout(()=>{\r\n                    // console.log(response.data.data)\r\n                window.location.replace(response.data.data);\r\n                emptyCart();\r\n            },5000)\r\n        })\r\n    }\r\n       return (\r\n           <>\r\n               <Navigation/>\r\n               <Row>\r\n                  <Col xs={6}>\r\n                    <Toast onClose={() => setShow(false)} show={show} delay={1000}\r\n                           style={{\r\n                               position: 'absolute',\r\n                               top: 0,\r\n                               right: 0,\r\n                           }}>\r\n                      <Toast.Header>\r\n                        <strong className=\"mr-auto\">Processing Order</strong>\r\n                      </Toast.Header>\r\n                    </Toast>\r\n                  </Col>\r\n               </Row>\r\n               <Container>\r\n                   <div className=\"mt-5\">\r\n                        <h2 className={'text-center font-weight-bold'}>Confirm Your Order</h2>\r\n                   </div>\r\n                   <Table className={'text-center'} hover >\r\n                       <thead>\r\n                       <tr>\r\n                           <th>Cart Item</th>\r\n                           <th>License Type</th>\r\n                           <th>Price</th>\r\n                           <th>Options</th>\r\n                       </tr>\r\n                       </thead>\r\n                       <tbody className={'font-weight-bold'}>\r\n                       {items.map((item) => (\r\n                           <tr key={item.id} className={\"h5\"}>\r\n                               <td>{item.name}</td>\r\n                               <td>{item.license}</td>\r\n                               <td>{item.price}</td>\r\n                               <td>\r\n                                   <button className={\"button-1\"} onClick={() => removeItem(item.id)}>Remove Item &times;</button>\r\n                               </td>\r\n                           </tr>\r\n                       ))}\r\n                       </tbody>\r\n                   </Table>\r\n               </Container>\r\n               <div className=\"checkout-div mt-5\">\r\n                        <h2 className={'text-center font-weight-bold'}>Fill this out to complete your order</h2>\r\n                        <div className=\"contact-form m-5\">\r\n                            <Container>\r\n                                <Form onSubmit={onSubmit}>\r\n                                    <Form.Row>\r\n                                        <Form.Group as={Col}>\r\n                                            <Form.Label>First Name</Form.Label>\r\n                                            <Form.Control type=\"text\" id={\"first_name\"}\r\n                                                          className={'checkout-form-input'}\r\n                                                          onChange={e => setFirstName(e.target.value)}\r\n\r\n                                            />\r\n                                        </Form.Group>\r\n                                        <Form.Group as={Col}>\r\n                                            <Form.Label>Last Name</Form.Label>\r\n                                            <Form.Control type=\"text\" className={'checkout-form-input'}\r\n                                                          onChange={e => setLastName(e.target.value)}\r\n\r\n                                            />\r\n                                        </Form.Group>\r\n                                    </Form.Row>\r\n                                    <Form.Row>\r\n                                        <Form.Group as={Col}>\r\n                                            <Form.Label>Email</Form.Label>\r\n                                            <Form.Control type={\"email\"} className={'checkout-form-input'}\r\n                                                          onChange={e => setEmail(e.target.value)}\r\n                                            />\r\n                                        </Form.Group>\r\n                                    </Form.Row>\r\n\r\n                                    <Row>\r\n                                        <Button className={\"button-2 mx-auto mb-5\"} type={\"submit\"}>Proceed To Checkout</Button>\r\n                                    </Row>\r\n                                </Form>\r\n                            </Container>\r\n                        </div>\r\n                    </div>\r\n           </>\r\n\r\n    )\r\n}\r\n\r\nexport default Cart;\r\n\r\n"]},"metadata":{},"sourceType":"module"}