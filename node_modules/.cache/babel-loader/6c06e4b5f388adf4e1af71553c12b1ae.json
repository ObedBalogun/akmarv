{"ast":null,"code":"const morx = require('morx');\n\nconst q = require('q');\n\nconst spec = morx.spec().build('email', 'required:true, eg:044').build('tx_ref', 'required:true, eg:MC-06900021').build('ip', 'required:true, eg:127.9.0.7').build('custom_business_name', 'required:true, eg:John Madakin').build('amount', 'required:true, eg:10').build('currency', 'required:true,eg:NGN').build('country', 'required:true,eg:NG').build('number_of_units', 'required:true, e.g:1').build('phone_number', 'required:true,eg:09384747474').end();\n\nfunction service(data, _rave) {\n  const d = q.defer();\n  q.fcall(() => {\n    const validated = morx.validate(data, spec, _rave.MORX_DEFAULT);\n    const params = validated.params; // _rave.params = params\n\n    return params;\n  }).then(params => {\n    // console.log(params)\n    return _rave.request('v3/ebills', params);\n  }).then(resp => {\n    d.resolve(resp.body);\n  }).catch(err => {\n    d.reject(err);\n  });\n  return d.promise;\n}\n\nservice.morxspc = spec;\nmodule.exports = service;","map":{"version":3,"sources":["C:/Users/Obed/PycharmProjects/akmarv_project/node_modules/flutterwave-node-v3/services/ebills/rave.order.js"],"names":["morx","require","q","spec","build","end","service","data","_rave","d","defer","fcall","validated","validate","MORX_DEFAULT","params","then","request","resp","resolve","body","catch","err","reject","promise","morxspc","module","exports"],"mappings":"AAAA,MAAMA,IAAI,GAAGC,OAAO,CAAC,MAAD,CAApB;;AACA,MAAMC,CAAC,GAAGD,OAAO,CAAC,GAAD,CAAjB;;AAIA,MAAME,IAAI,GAAGH,IAAI,CAACG,IAAL,GACXC,KADW,CACL,OADK,EACI,uBADJ,EAEXA,KAFW,CAEL,QAFK,EAEK,+BAFL,EAGXA,KAHW,CAGL,IAHK,EAGC,6BAHD,EAIXA,KAJW,CAIL,sBAJK,EAImB,gCAJnB,EAKXA,KALW,CAKL,QALK,EAKK,sBALL,EAMXA,KANW,CAML,UANK,EAMO,sBANP,EAOXA,KAPW,CAOL,SAPK,EAOM,qBAPN,EAQXA,KARW,CAQL,iBARK,EAQc,sBARd,EASXA,KATW,CASL,cATK,EASW,8BATX,EAUXC,GAVW,EAAb;;AAaA,SAASC,OAAT,CAAiBC,IAAjB,EAAuBC,KAAvB,EAA8B;AAE7B,QAAMC,CAAC,GAAGP,CAAC,CAACQ,KAAF,EAAV;AACAR,EAAAA,CAAC,CAACS,KAAF,CAAQ,MAAM;AAEZ,UAAMC,SAAS,GAAGZ,IAAI,CAACa,QAAL,CAAcN,IAAd,EAAoBJ,IAApB,EAA0BK,KAAK,CAACM,YAAhC,CAAlB;AACA,UAAMC,MAAM,GAAGH,SAAS,CAACG,MAAzB,CAHY,CAIZ;;AACA,WAAQA,MAAR;AAEA,GAPF,EAQEC,IARF,CAQOD,MAAM,IAAI;AAEf;AACA,WAAOP,KAAK,CAACS,OAAN,CAAc,WAAd,EAA2BF,MAA3B,CAAP;AACA,GAZF,EAaEC,IAbF,CAaOE,IAAI,IAAI;AAEbT,IAAAA,CAAC,CAACU,OAAF,CAAUD,IAAI,CAACE,IAAf;AAEA,GAjBF,EAkBEC,KAlBF,CAkBQC,GAAG,IAAI;AAEbb,IAAAA,CAAC,CAACc,MAAF,CAASD,GAAT;AAEA,GAtBF;AAwBA,SAAOb,CAAC,CAACe,OAAT;AAEA;;AACDlB,OAAO,CAACmB,OAAR,GAAkBtB,IAAlB;AACAuB,MAAM,CAACC,OAAP,GAAiBrB,OAAjB","sourcesContent":["const morx = require('morx');\nconst q = require('q');\n\n\n\nconst spec = morx.spec()\n\t.build('email', 'required:true, eg:044')\n\t.build('tx_ref', 'required:true, eg:MC-06900021')\n\t.build('ip', 'required:true, eg:127.9.0.7')\n\t.build('custom_business_name', 'required:true, eg:John Madakin')\n\t.build('amount', 'required:true, eg:10')\n\t.build('currency', 'required:true,eg:NGN')\n\t.build('country', 'required:true,eg:NG')\n\t.build('number_of_units', 'required:true, e.g:1')\n\t.build('phone_number', 'required:true,eg:09384747474')\n\t.end();\n\n\nfunction service(data, _rave) {\n\n\tconst d = q.defer();\n\tq.fcall(() => {\n\n\t\t\tconst validated = morx.validate(data, spec, _rave.MORX_DEFAULT);\n\t\t\tconst params = validated.params;\n\t\t\t// _rave.params = params\n\t\t\treturn (params);\n\n\t\t})\n\t\t.then(params => {\n\n\t\t\t// console.log(params)\n\t\t\treturn _rave.request('v3/ebills', params)\n\t\t})\n\t\t.then(resp => {\n\n\t\t\td.resolve(resp.body);\n\n\t\t})\n\t\t.catch(err => {\n\n\t\t\td.reject(err);\n\n\t\t});\n\n\treturn d.promise;\n\n}\nservice.morxspc = spec;\nmodule.exports = service;"]},"metadata":{},"sourceType":"script"}