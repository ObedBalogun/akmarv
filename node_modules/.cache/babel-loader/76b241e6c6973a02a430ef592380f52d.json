{"ast":null,"code":"import _slicedToArray from\"C:/Users/Obed/PycharmProjects/akmarv_project/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState}from'react';import{Button,Col,Container,Form,Row}from\"react-bootstrap\";import Navigation from\"../components/Navigation\";import axios from\"axios\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var UploadPage=function UploadPage(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),title=_useState2[0],setTitle=_useState2[1];var _useState3=useState(''),_useState4=_slicedToArray(_useState3,2),genre=_useState4[0],setGenre=_useState4[1];var _useState5=useState(),_useState6=_slicedToArray(_useState5,2),mp3=_useState6[0],setMp3=_useState6[1];var _useState7=useState(),_useState8=_slicedToArray(_useState7,2),wav=_useState8[0],setWav=_useState8[1];var _useState9=useState(),_useState10=_slicedToArray(_useState9,2),stems=_useState10[0],setStems=_useState10[1];var _useState11=useState(),_useState12=_slicedToArray(_useState11,2),artwork=_useState12[0],setArtwork=_useState12[1];var changeHandlerMp3=function changeHandlerMp3(e){setMp3(e.target.files[0]);};var changeHandlerWav=function changeHandlerWav(e){setWav(e.target.files[0]);};var changeHandlerStems=function changeHandlerStems(e){setStems(e.target.files[0]);};var changeHandlerArtwork=function changeHandlerArtwork(e){setArtwork(e.target.files[0]);};var onSubmit=function onSubmit(e){e.preventDefault();var formData=new FormData();formData.append('mp3',mp3);formData.append('wav',wav);formData.append('stems',stems);formData.append('title',title);formData.append('genre',genre);formData.append('artwork',artwork);axios.defaults.xsrfHeaderName='X-CSRFTOKEN';axios.defaults.xsrfCookieName='csrftoken';axios.defaults.withCredentials=true;axios.post('/api/client/beats/',formData).then(function(){window.location.replace('/');});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Navigation,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"upload-div\",children:[/*#__PURE__*/_jsx(\"h2\",{className:'text-center font-weight-bold',children:\"Upload Beats Here\"}),/*#__PURE__*/_jsx(\"div\",{className:\"upload-form m-5\",children:/*#__PURE__*/_jsx(Container,{children:/*#__PURE__*/_jsxs(Form,{onSubmit:onSubmit,children:[/*#__PURE__*/_jsxs(Form.Row,{children:[/*#__PURE__*/_jsxs(Form.Group,{as:Col,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Beat Title\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",id:'title',onChange:function onChange(e){return setTitle(e.target.value);},className:'upload-form-input'})]}),/*#__PURE__*/_jsxs(Form.Group,{as:Col,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Genre\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"text\",id:'genre',onChange:function onChange(e){return setGenre(e.target.value);},className:'upload-form-input'})]}),/*#__PURE__*/_jsxs(Form.Group,{as:Col,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Artwork\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"file\",id:'artwork',onChange:changeHandlerArtwork,className:'upload-form-input'})]})]}),/*#__PURE__*/_jsxs(Form.Row,{children:[/*#__PURE__*/_jsxs(Form.Group,{as:Col,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Mp3 File\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"file\",id:'mp3_file',onChange:changeHandlerMp3,className:'upload-form-input rounded'})]}),/*#__PURE__*/_jsxs(Form.Group,{as:Col,children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Wav File\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"file\",id:'wav_file',onChange:changeHandlerWav,className:'upload-form-input rounded'})]})]}),/*#__PURE__*/_jsx(Form.Row,{children:/*#__PURE__*/_jsxs(Form.Group,{as:Col,children:[/*#__PURE__*/_jsx(\"small\",{className:'mx-auto',children:\"Please remember to upload your stem tracks as a zip file.\"}),/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(Form.Label,{children:\"Stem Tracks\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"file\",id:'stems',onChange:changeHandlerStems,className:'upload-form-input rounded'})]})}),/*#__PURE__*/_jsx(Row,{children:/*#__PURE__*/_jsx(Button,{className:\"button-2 mx-auto mb-5\",type:\"submit\",children:\"Upload File \"})})]})})})]})]});};export default UploadPage;","map":{"version":3,"sources":["C:/Users/Obed/PycharmProjects/akmarv_project/src/pages/UploadPage.jsx"],"names":["React","useState","Button","Col","Container","Form","Row","Navigation","axios","UploadPage","title","setTitle","genre","setGenre","mp3","setMp3","wav","setWav","stems","setStems","artwork","setArtwork","changeHandlerMp3","e","target","files","changeHandlerWav","changeHandlerStems","changeHandlerArtwork","onSubmit","preventDefault","formData","FormData","append","defaults","xsrfHeaderName","xsrfCookieName","withCredentials","post","then","window","location","replace","value"],"mappings":"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","sourcesContent":["import React, {useState} from 'react';\r\nimport {Button, Col, Container, Form, Row} from \"react-bootstrap\";\r\nimport Navigation from \"../components/Navigation\";\r\nimport axios from \"axios\";\r\n\r\nconst UploadPage = () => {\r\n    const [title, setTitle] = useState('');\r\n    const [genre, setGenre] = useState('');\r\n    const [mp3, setMp3] = useState();\r\n    const [wav, setWav] = useState();\r\n    const [stems, setStems] = useState();\r\n    const [artwork, setArtwork] = useState();\r\n\r\n    const changeHandlerMp3 = (e) => {\r\n        setMp3(e.target.files[0])\r\n\r\n    }\r\n    const changeHandlerWav = (e) => {\r\n        setWav(e.target.files[0])\r\n    }\r\n    const changeHandlerStems = (e) => {\r\n        setStems(e.target.files[0])\r\n    }\r\n    const changeHandlerArtwork = (e) => {\r\n        setArtwork(e.target.files[0])\r\n    }\r\n\r\n    const onSubmit = e => {\r\n        e.preventDefault();\r\n        const formData = new FormData();\r\n        formData.append('mp3', mp3);\r\n        formData.append('wav', wav);\r\n        formData.append('stems', stems);\r\n        formData.append('title',title)\r\n        formData.append('genre',genre)\r\n        formData.append('artwork',artwork)\r\n\r\n        axios.defaults.xsrfHeaderName = 'X-CSRFTOKEN';\r\n        axios.defaults.xsrfCookieName = 'csrftoken';\r\n        axios.defaults.withCredentials = true;\r\n\r\n        axios.post('/api/client/beats/', formData).then(()=>{\r\n            window.location.replace('/')\r\n        })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <Navigation/>\r\n            <div className=\"upload-div\">\r\n                <h2 className={'text-center font-weight-bold'}>Upload Beats Here</h2>\r\n                <div className=\"upload-form m-5\">\r\n                    <Container>\r\n                        <Form onSubmit={onSubmit}>\r\n                            <Form.Row>\r\n                                <Form.Group as={Col}>\r\n                                    <Form.Label>Beat Title</Form.Label>\r\n                                    <Form.Control type=\"text\" id={'title'} onChange={e => setTitle(e.target.value) } className={'upload-form-input'}/>\r\n                                </Form.Group>\r\n                                <Form.Group as={Col}>\r\n                                    <Form.Label>Genre</Form.Label>\r\n                                    <Form.Control type=\"text\" id={'genre'} onChange={e => setGenre(e.target.value) } className={'upload-form-input'}/>\r\n                                </Form.Group>\r\n                                <Form.Group as={Col}>\r\n                                    <Form.Label>Artwork</Form.Label>\r\n                                    <Form.Control type=\"file\" id={'artwork'} onChange={changeHandlerArtwork}  className={'upload-form-input'}/>\r\n                                </Form.Group>\r\n                            </Form.Row>\r\n                            <Form.Row>\r\n                                <Form.Group as={Col}>\r\n                                    <Form.Label>Mp3 File</Form.Label>\r\n                                    <Form.Control type={\"file\"} id={'mp3_file'} onChange={changeHandlerMp3 } className={'upload-form-input rounded'}/>\r\n                                </Form.Group>\r\n                                <Form.Group as={Col}>\r\n                                    <Form.Label>Wav File</Form.Label>\r\n                                    <Form.Control type=\"file\"  id={'wav_file'} onChange={changeHandlerWav } className={'upload-form-input rounded'}/>\r\n                                </Form.Group>\r\n\r\n                            </Form.Row>\r\n                            <Form.Row>\r\n                                <Form.Group as={Col}>\r\n                                    <small className={'mx-auto'}>Please remember to upload your stem tracks as a zip file.</small>\r\n                                    <br/>\r\n                                    <Form.Label>Stem Tracks</Form.Label>\r\n                                    <Form.Control type=\"file\" id={'stems'} onChange={changeHandlerStems} className={'upload-form-input rounded'}/>\r\n                                </Form.Group>\r\n                            </Form.Row>\r\n                            <Row>\r\n                                <Button className={\"button-2 mx-auto mb-5\"} type={\"submit\"}>Upload File </Button>\r\n                            </Row>\r\n                        </Form>\r\n                    </Container>\r\n                </div>\r\n            </div>\r\n        </>\r\n    );\r\n}\r\n\r\nexport default UploadPage;"]},"metadata":{},"sourceType":"module"}